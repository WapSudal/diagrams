@startuml High-Level Use Case Diagram - Stroke Prevention System


skinparam linetype polyline
skinparam usecase {
    BackgroundColor LightBlue
    BorderColor DarkBlue
    ArrowColor Black
}

' Actor 위치 분산 배치
actor "개인 사용자\n(Patient)" as Patient #LightGreen
actor "가족/보호자\n(Guardian)" as Guardian #LightYellow
actor "주치의\n(Physician)" as Physician #LightPink  
actor "시스템 관리자\n(Admin)" as Admin #LightGray

' Hidden links for layout control
Patient -[hidden]down- Guardian
Physician -[hidden]down- Admin

rectangle "뇌졸중 예방 시스템 (Stroke Prevention System)" {
  
  ' Feature 1 - 왼쪽 상단
  package "Feature 1:\n건강 데이터 관리" #LightCyan {
    usecase UC1 as "건강 데이터 입력"
    usecase UC2 as "건강 데이터 조회"
    usecase UC3 as "데이터 수정/삭제"
    usecase UC4 as "개인 리포트"
    
    UC1 -[hidden]down-> UC2
    UC2 -[hidden]down-> UC3
    UC3 -[hidden]down-> UC4
  }
  
  ' Feature 2 - 중앙
  package "Feature 2:\nAI 위험도 예측" #LightYellow {
    together {
      usecase UC5 as "위험도\n예측 요청"
      usecase UC6 as "예측 결과\n조회"
    }
    
    usecase UC7 as "개선 권고"
    usecase UC8 as "위험도 이력"
    
    package "차별화 기능" #WhiteSmoke {
      usecase UC9 as "추세 예측\n**[미래 예측]**"
      usecase UC10 as "개선 시뮬레이션\n**[What-if]**"
      usecase UC11 as "집단 내 순위\n**[Percentile]**"
    }
  }
  
  ' Feature 3 - 오른쪽
  package "Feature 3:\n협업 모니터링" #LightGreen {
    usecase UC12 as "공유 권한 관리"
    usecase UC13 as "환자 상태\n모니터링"
    usecase UC14 as "위험 알림"
    usecase UC15 as "환자 패널"
    usecase UC16 as "관리 메모"
    
    UC12 -[hidden]down-> UC13
    UC13 -[hidden]down-> UC14
  }
  
  ' Feature 4 - 하단
  package "Feature 4:\n시스템 관리" #Lavender {
    usecase UC17 as "콘텐츠 관리"
    usecase UC18 as "알림 정책"
    
    UC17 -[hidden]right-> UC18
  }
}

' Layout helpers
UC1 -[hidden]right-> UC5
UC5 -[hidden]right-> UC12
UC4 -[hidden]down-> UC17

' Patient connections - Feature 1
Patient --> UC1
Patient --> UC2
Patient --> UC4

' Patient connections - Feature 2  
Patient --> UC5
Patient --> UC7
Patient --> UC9
Patient --> UC10
Patient --> UC11

' Patient connections - Feature 3
Patient --> UC12
Patient --> UC14 : 수신

' Guardian connections
Guardian --> UC13 : 조회
Guardian --> UC14 : 수신

' Physician connections  
Physician --> UC13 : 모니터링
Physician --> UC15
Physician --> UC16

' Admin connections
Admin --> UC17
Admin --> UC18

' Key use case relationships (주요 관계만 표시)
UC1 .right.> UC5 : <<include>>
UC5 .right.> UC6 : <<include>>
UC6 ..> UC9 : <<extend>>
UC6 ..> UC10 : <<extend>>
UC6 ..> UC11 : <<extend>>
UC12 .down.> UC13 : <<include>>

@enduml